(this["webpackJsonpethermine-dashboard"]=this["webpackJsonpethermine-dashboard"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),c=a.n(s),i=(a(34),a(9)),d=(a(35),a(76)),u=(a(36),a(3));function h(e){var t=e.data,a=n.useState(),r=Object(i.a)(a,2),s=r[0],c=r[1];function d(){var e=t,a=Math.floor(e/86400);e-=60*a*60*24;var n=Math.floor(e/3600);e-=60*n*60;var r=Math.floor(e/60);e-=60*r;var s=Math.floor(e);c((a?a+" Days ":"")+(n?n+" Hours \n":"")+(r?r+" Mins ":"")+s+" Secs")}if(n.useEffect((function(){"secs"===e.dataType&&function(){var e=setInterval((function(){t-=1,d()}),1e3)}()}),[]),!s)switch(e.dataType){case"hashrate":c((parseFloat(t)/1e6).toFixed(2)+" MH/s");break;case"eur":c("\u20ac"+parseFloat(t).toFixed(2));break;case"secs":d();break;default:c(t)}return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"Data",children:s}),Object(u.jsx)("div",{className:"Label",children:e.label})]})}var l=a(71),o="https://api.ethermine.org/",j=function(e,t){return e+t};function b(e){var t=e.minerId,a=n.useState(null),r=Object(i.a)(a,2),s=r[0],c=r[1],d=n.useState(null),b=Object(i.a)(d,2),x=b[0],p=b[1],f=n.useState(null),m=Object(i.a)(f,2),O=m[0],g=m[1];return n.useEffect((function(){!function(e,t){fetch(o+"miner/"+e+"/dashboard").then((function(e){return e.json()})).then((function(e){return t({status:e.status,data:e.data})}))}(t,c),function(e,t){fetch(o+"miner/"+e+"/currentStats").then((function(e){return e.json()})).then((function(e){return t({status:e.status,data:e.data})}))}(t,p),O||function(e){fetch("https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=EUR").then((function(e){return e.json()})).then((function(t){return e(t.EUR)}))}(g)}),[t]),Object(u.jsx)("div",{children:s&&x&&O?"OK"===s.status&&"OK"===x.status?function(){if(s.data&&s.data.currentStatistics&&x.data){var e=x.data.coinsPerMin,t=s.data.currentStatistics,a=function(e){var t=e.data.statistics.sort((function(e,t){return e.time>t.time})),a=t.map((function(e){return e.currentHashrate})).reduce(j,0),n=t.slice(t.length-73,t.length-1).map((function(e){return e.currentHashrate})).reduce(j,0),r=t.slice(t.length-37,t.length-1).map((function(e){return e.currentHashrate})).reduce(j,0);return{avgReportedHash:t.map((function(e){return e.reportedHashrate})).reduce(j,0)/t.length,avgHash24:a/t.length,avgHash12:n/t.slice(t.length-73,t.length-1).length,avgHash6:r/t.slice(t.length-37,t.length-1).length}}(s),n=1e-18*x.data.unpaid,r=e*O*60*24,c=(.1-1e-18*x.data.unpaid)/(e/60),i=function(){for(var e=Date.now(),t=1614902399e3;t<e;)t+=12096e5;return(t-e)/1e3}(),d=i<c?i/60*e*O+n:.1*O,o="\u20ac"+(n*O).toFixed(2)+" / "+n.toFixed(6)+" ETH";return console.log(o),Object(u.jsxs)(l.a,{style:{flex:3},container:!0,spacing:3,children:[Object(u.jsx)(l.a,{item:!0,xs:6,children:Object(u.jsx)(h,{label:"Unpaid Balance",data:o})}),Object(u.jsx)(l.a,{item:!0,xs:6,children:Object(u.jsx)(h,{label:"ETH Price",data:O,dataType:"eur"})}),Object(u.jsx)(l.a,{item:!0,xs:8,children:Object(u.jsx)(h,{label:"Time To Payout",data:Math.min(i,c),dataType:"secs"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Payout Amount",data:d,dataType:"eur"})}),Object(u.jsx)(l.a,{item:!0,xs:3,children:Object(u.jsx)(h,{label:"Estimated Earnings Per Day",data:r,dataType:"eur"})}),Object(u.jsx)(l.a,{item:!0,xs:3,children:Object(u.jsx)(h,{label:"Estimated Earnings Per Week",data:7*r,dataType:"eur"})}),Object(u.jsx)(l.a,{item:!0,xs:3,children:Object(u.jsx)(h,{label:"Estimated Earnings Per Month",data:30*r,dataType:"eur"})}),Object(u.jsx)(l.a,{item:!0,xs:3,children:Object(u.jsx)(h,{label:"Estimated Earnings Per Year",data:365*r,dataType:"eur"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Current Hashrate",data:t.currentHashrate,dataType:"hashrate"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Reported Hashrate",data:t.reportedHashrate,dataType:"hashrate"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Average Reported Hashrate - Last 24H",data:a.avgReportedHash,dataType:"hashrate"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Average Hashrate - Last 24h",data:a.avgHash24,dataType:"hashrate"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Average Hashrate - Last 12h",data:a.avgHash12,dataType:"hashrate"})}),Object(u.jsx)(l.a,{item:!0,xs:4,children:Object(u.jsx)(h,{label:"Average Hashrate - Last 6h",data:a.avgHash6,dataType:"hashrate"})})]})}return"No data in Ethermine response."}():"Couldn't get data from Ethermine, status was: "+s.status:null})}var x=function(){var e=n.useState("14b4DAB2b580BA2Ac1849055Ae8820Be87d8564E"),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d.a,{className:"MinerIdInput",variant:"outlined",value:a,onChange:function(e){return r(e.target.value)},inputProps:{style:{textAlign:"center"}}}),Object(u.jsx)("div",{className:"App-header",children:Object(u.jsx)(b,{minerId:a})})]})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.8f97eb23.chunk.js.map